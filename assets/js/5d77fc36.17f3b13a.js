"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2057],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return p}});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),u=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=u(r),p=n,f=d["".concat(s,".").concat(p)]||d[p]||h[p]||l;return r?o.createElement(f,a(a({ref:t},c),{},{components:r})):o.createElement(f,a({ref:t},c))}));function p(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,a=new Array(l);a[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,a[1]=i;for(var u=2;u<l;u++)a[u]=r[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}d.displayName="MDXCreateElement"},3216:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var o=r(7462),n=r(3366),l=(r(7294),r(3905)),a=["components"],i={id:"trouble_flash",title:"Flashing/Uploading"},s=void 0,u={unversionedId:"trouble/trouble_flash",id:"trouble/trouble_flash",title:"Flashing/Uploading",description:'If you have trouble flashing the firmware, you can start with simply flashing a "Blink" program to make sure that you have everything ready and working.',source:"@site/docs/trouble/flashing.md",sourceDirName:"trouble",slug:"/trouble/trouble_flash",permalink:"/docs/trouble/trouble_flash",editUrl:"https://github.com/jpconstantineau/BlueMicro_BLE/tree/documentation-docusaurus/documentation/docs/trouble/flashing.md",tags:[],version:"current",frontMatter:{id:"trouble_flash",title:"Flashing/Uploading"},sidebar:"someSidebar",previous:{title:"Macros",permalink:"/docs/tut_macros"},next:{title:"Testing GPIOs",permalink:"/docs/trouble/trouble_gpios"}},c=[{value:"Upload using Arduino IDE",id:"upload-using-arduino-ide",children:[],level:2},{value:"For nRF52832 boards",id:"for-nrf52832-boards",children:[],level:2},{value:"For nRF52840 boards",id:"for-nrf52840-boards",children:[],level:2},{value:"Computer does not detect the controller",id:"computer-does-not-detect-the-controller",children:[],level:2},{value:"Computer does not recognize the controller",id:"computer-does-not-recognize-the-controller",children:[],level:2}],h={toc:c};function d(e){var t=e.components,r=(0,n.Z)(e,a);return(0,l.kt)("wrapper",(0,o.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,'If you have trouble flashing the firmware, you can start with simply flashing a "Blink" program to make sure that you have everything ready and working.\nYou do not need the firmware at this point.'),(0,l.kt)("h2",{id:"upload-using-arduino-ide"},"Upload using Arduino IDE"),(0,l.kt)("p",null,"The following steps apply to both nRF52832 and nRF52840 chips."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Start the Arduino IDE"),(0,l.kt)("li",{parentName:"ul"},'Select your controller from the Arduino IDE "Tools -> Board -> Community nRF52 Add-on Boards" Menu'),(0,l.kt)("li",{parentName:"ul"},"Open the ",(0,l.kt)("strong",{parentName:"li"},"blinky"),' example by selecting "File -> Examples -> Adafruit Bluefruit nRF52 Libraries -> Hardware -> blinky"'),(0,l.kt)("li",{parentName:"ul"},'Connect your keyboard. A new serial port should show up in the "Tools -> Port" menu.'),(0,l.kt)("li",{parentName:"ul"},'Select the serial port of your keyboard in the "Tools -> Port" menu.'),(0,l.kt)("li",{parentName:"ul"},"Compile ",(0,l.kt)("strong",{parentName:"li"},"blinky")," using the \u2714\ufe0f button in the toolbar"),(0,l.kt)("li",{parentName:"ul"},"Flash (upload) ",(0,l.kt)("strong",{parentName:"li"},"blinky")," using the \u27a1\ufe0f button in the toolbar"),(0,l.kt)("li",{parentName:"ul"},"The built in LED should now blink at an interval of 2 seconds (toggle every 1 second).")),(0,l.kt)("p",null,"If you cannot flash ",(0,l.kt)("strong",{parentName:"p"},"blinky")," to your controller and see the LED blink, then you cannot proceed to flashing your firmware.  "),(0,l.kt)("p",null,"Items you can check if the above did not work:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Is the serial port the correct one?"),(0,l.kt)("li",{parentName:"ul"},'For nRF52840 chips, press reset twice (double-reset). This should put the controller in DFU mode.  Does it now show up in the "Tools -> Port" menu? '),(0,l.kt)("li",{parentName:"ul"},"Is the board selected the correct one? ")),(0,l.kt)("h2",{id:"for-nrf52832-boards"},"For nRF52832 boards"),(0,l.kt)("p",null,"USB connection to the nRF52832 chip is handled through a serial/uart USB chip.  The USB Identification is fixed to that chip and will not change depending on the state of the nRF52832.  "),(0,l.kt)("p",null,"In the Arduino IDE, simply select the serial port that appears when connecting the controller.  If your operating system complains about needing a driver, refer to the following links for finding the drivers of various USB chips:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"CH340x: Follow the instructions from ",(0,l.kt)("a",{parentName:"li",href:"https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers/all"},"sparkfun")),(0,l.kt)("li",{parentName:"ul"},"CP210x: Follow the instructions from ",(0,l.kt)("a",{parentName:"li",href:"https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers/all"},"silabs")),(0,l.kt)("li",{parentName:"ul"},"FTDI: Follow the instructions from ",(0,l.kt)("a",{parentName:"li",href:"https://ftdichip.com/drivers/"},"FTDI"))),(0,l.kt)("p",null,"If the serial chip is on-board of the controller next to the nRF52832, circuitry to handle reset is likely installed and will reset the nRF52 just in time to allow for flashing."),(0,l.kt)("h2",{id:"for-nrf52840-boards"},"For nRF52840 boards"),(0,l.kt)("p",null,"Since USB is handled by the nRF52840 bootloader and firmware, the USB identification may differ between when the chip is in bootloader mode or in the firmware. This is often the case when the firmware is compiled with a specific controller but the bootloader is configured with another.  In such case, you may need to double-reset prior to selecting the serial port of the controller."),(0,l.kt)("h2",{id:"computer-does-not-detect-the-controller"},"Computer does not detect the controller"),(0,l.kt)("p",null,"For the nRF52832, this is most often caused by a hardware issue. For the nRF52840, the firmware may not present a serial port. When in DFU mode, this is most often caused by a hardware issue."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Verify that the USB cable is not defective."),(0,l.kt)("li",{parentName:"ul"},"For a controller you have assembled yourself, you may want to double-check the USB connector solder joins.  You may also want to double-check that power and gnd are not shorted.")),(0,l.kt)("h2",{id:"computer-does-not-recognize-the-controller"},"Computer does not recognize the controller"),(0,l.kt)("p",null,"This may be caused by firmware or hardware issues.  "),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If the bootloader or firmware crashes before communications between the computer and the controller are completed, the computer won't receive all the identification information in time and won't recognize the controller. This is very rare."),(0,l.kt)("li",{parentName:"ul"},"For a controller you have assembled yourself, you may want to double-check the USB connector solder joins. This is one of the most frequent causes.")))}d.isMDXComponent=!0}}]);